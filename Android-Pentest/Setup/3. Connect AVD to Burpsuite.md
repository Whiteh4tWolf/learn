
---

### ðŸ”°Enable USB Debugging (if necessary)
#### 1. Go to Setting
#### 2. Search build number
![](/Android-Pentest/Setup/Images/Connect%20AVD%20to%20Burpsuite/Pasted%20image%2020241024134312.png)

#### 3. Click Build number few times until you see `"you are now developer"`
![](/Android-Pentest/Setup/Images/Connect%20AVD%20to%20Burpsuite/Screenshot%202024-10-24%20134341.png)

#### 4. Access Developer Options
![](/Android-Pentest/Setup/Images/Connect%20AVD%20to%20Burpsuite/Pasted%20image%2020241024134515.png)

#### 5. Enable the usb debugging
![](/Android-Pentest/Setup/Images/Connect%20AVD%20to%20Burpsuite/Pasted%20image%2020241024134553.png)

---

### ðŸ”°Connect to Burpsuite
#### 1. Proxy >> Proxy Settings 
#### 2. Import / Export CA certificate
![](/Android-Pentest/Setup/Images/Connect%20AVD%20to%20Burpsuite/Pasted%20image%2020241024134953.png)

#### 3. Certificate in DER format >> Next
![](/Android-Pentest/Setup/Images/Connect%20AVD%20to%20Burpsuite/Pasted%20image%2020241024135129.png)

#### 4. Save file (cacert.crt) >> Next
![](/Android-Pentest/Setup/Images/Connect%20AVD%20to%20Burpsuite/Pasted%20image%2020241024135307.png)

#### 5. Download Magisk Trust User Certs
[MagiskTrustUserCerts](https://github.com/NVISOsecurity/MagiskTrustUserCerts/releases)

#### 6. Drag & Drop `"cacert.crt"` and `"AlwaysTrustUserCerts.zip"` to Emulator
![](/Android-Pentest/Setup/Images/Connect%20AVD%20to%20Burpsuite/Pasted%20image%2020241024135752.png)

---

### ðŸ”°Install Certificate as User
#### 1. Setting >> Search CA Certificates
![](/Android-Pentest/Setup/Images/Connect%20AVD%20to%20Burpsuite/Screenshot%202024-10-24%20135905.png)

#### 2. CA Certificates
![](/Android-Pentest/Setup/Images/Connect%20AVD%20to%20Burpsuite/Screenshot%202024-10-24%20140023.png)

#### 3. Install Anyway
![](/Android-Pentest/Setup/Images/Connect%20AVD%20to%20Burpsuite/Screenshot%202024-10-24%20140038.png)

#### 4. Select `"cacert.crt"`
![](/Android-Pentest/Setup/Images/Connect%20AVD%20to%20Burpsuite/Screenshot%202024-10-24%20140103.png)

---

### ðŸ”°Install certificates to system

#### 1. Open Magisk >> Modules >> Install from storage
![](/Android-Pentest/Setup/Images/Connect%20AVD%20to%20Burpsuite/Pasted%20image%2020241024140355.png)

#### 2. Select `"AlwaysTrustUserCerts.zip"`
![](/Android-Pentest/Setup/Images/Connect%20AVD%20to%20Burpsuite/Screenshot%202024-10-24%20140103.png)

#### 3. Reboot
![](/Android-Pentest/Setup/Images/Connect%20AVD%20to%20Burpsuite/Screenshot%202024-10-24%20140417.png)

#### 4. Search Trusted Credentials
![](/Android-Pentest/Setup/Images/Connect%20AVD%20to%20Burpsuite/Pasted%20image%2020241024141105.png)

#### 5. Ensure that Portswigger certificates is already installed
![](/Android-Pentest/Setup/Images/Connect%20AVD%20to%20Burpsuite/Pasted%20image%2020241024141211.png)

#### 6. Setting burp proxy to listen all interfaces
![](/Android-Pentest/Setup/Images/Connect%20AVD%20to%20Burpsuite/Pasted%20image%2020241024141304.png)

#### 7. Setting Proxy in AVD
![](/Android-Pentest/Setup/Images/Connect%20AVD%20to%20Burpsuite/Pasted%20image%2020241024141433.png)

#### 8. Test
![](/Android-Pentest/Setup/Images/Connect%20AVD%20to%20Burpsuite/Pasted%20image%2020241024141625.png)

---
### References
- https://medium.com/mii-cybersec/android-emulator-setup-for-pentest-using-android-studio-4191ad8a0684
